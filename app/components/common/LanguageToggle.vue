<!-- components/common/LanguageToggle.vue -->
<template>
    <el-dropdown @command="handleCommand">
      <el-button circle>
        <el-icon><Menu /></el-icon>
      </el-button>
      <template #dropdown>
        <el-dropdown-menu>
          <el-dropdown-item 
            command="zh-CN"
            :disabled="locale === 'zh-CN'"
          >
            ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡
          </el-dropdown-item>
          <el-dropdown-item 
            command="en-US"
            :disabled="locale === 'en-US'"
          >
            ğŸ‡ºğŸ‡¸ English
          </el-dropdown-item>
        </el-dropdown-menu>
      </template>
    </el-dropdown>
  </template>
  
  <script setup lang="ts">
  // Element Plus Icons ä¸­æ²¡æœ‰ Globe å›¾æ ‡ï¼Œä½¿ç”¨ Menu å›¾æ ‡æ›¿ä»£
  import { Menu } from '@element-plus/icons-vue'
  
  const { locale, setLocale } = useI18n()
  
  const handleCommand = (lang: "zh-CN" | "en-US") => {
    setLocale(lang)
    ElMessage.success(
      lang === 'zh-CN' ? 'åˆ‡æ¢åˆ°ç®€ä½“ä¸­æ–‡' : 'Switched to English'
    )
  }
  </script>